<% 
    const Data = {
        course: (id) => {
            for(let c = 0; c < data.course.length; c++){
                if(data.course[c].id === id){
                    return data.course[c].type
                }
            }
        }, 
        year: (id) => {
            for(let y = 0; y < data.year.length; y++){
                if(data.year[y].id === id){
                    return data.year[y].type
                }
            }
        }
    }
%> 
<% if(users.length > 0) { %> 
    <% for (let i = 0; i < users.length; i++) { %>
        <div data="<%- users[i]._id %>" style="animation-delay: <%- i * .150 %>s;" class="users_all animate__animated animate__fadeInUp ms-300 h-[78px] dark_border dark:bg-[#161b22] z-0 p-[8px] md:w-full cursor-pointer flex flex-row shadow-xl bg-gray-100 rounded-2xl transition-all">
            <div class="flex flex-row w-full">
                <img class="h-[60px] w-[60px] rounded-full object-cover skeleton-image" data="<%- `${users[i].firstname.split('')[0]}${users[i].lastname.split('')[0]}` %>">
                <div class="grid grid-flow-col flex-[80%]">
                    <div class="justify-center gap-1 w-full flex flex-col pl-3">
                        <span class="text-base dark:text-gray-400"><%- `${users[i].firstname} ${users[i].middlename} ${users[i].lastname}` %></span>
                        <span class="text-sm dark:text-gray-400"><%- `${Data.course(users[i].course)} ${Data.year(users[i].year)}` %></span>
                    </div>
                    <div class="w-full flex-row justify-end items-center flex">
                        <a data="<%- users[i]._id %>" class="add_voter rpl rounded-full p-2 justify-center flex flex-row gap-2 items-center cursor-pointer text-lg dark:text-teal-600">
                            <i class="fas fa-plus-circle"></i>
                        </a>
                    </div>
                </div> 
            </div>
        </div>
    <% } %>
    <script>
        $(document).ready( function () {
            setTimeout(() => {
                $(".skeleton-image").each(function () {
                    $(this).attr("src", avatar($(this).attr("data"), "#fff", dark(), 'bold 100px Assistant'))
                    $(this).removeClass("skeleton-image")
                })
            }, 1000)
        })
    </script>
<% } else { %> 
    <div class="users_all col-span-full flex justify-center items-center">
        <div style="animation-delay: .150s;" class="animate__animated animate__fadeInUp ms-300 h-[78px] dark_border dark:bg-[#161b22] z-0 p-[8px] w-96 md:w-full cursor-pointer flex justify-center items-center shadow-xl bg-gray-100 rounded-2xl transition-all">
            <span class="dark:text-gray-300 text-lg">Nothing to fetch</span>
        </div>
    </div>
<% } %>