<% 
    const userData = {
        course: (id) => {
            for(let i = 0; i < data.course.length; i++){
                if(id === data.course[i].id){
                    return data.course[i].type
                }
            }
        }, 
        year: (id) => {
            for(let i = 0; i < data.year.length; i++){
                if(id === data.year[i].id){
                    return data.year[i].type
                }
            }
        }
    }
    const userElection = {
        partylists: (id) => {
            for(let i = 0; i < data.partylists.length; i++){
                if(id === data.partylists[i].id){
                    return data.partylists[i].type
                }
            }
        },
        positions: (id) => {
            for(let i = 0; i < data.positions.length; i++){
                if(id === data.positions[i].id){
                    return data.positions[i].type
                }
            }
        }
    }
%> 
<form class="fl_candidacy flex flex-col gap-3">
    <div class="container animate__animated animate__fadeInUp ms-300" style="animation-delay: .250s;">
        <div class="py-1 px-3 flex flex-col mb-2">
            <span class="dark:text-gray-300 text-base">Personal Details</span>
            <div class="h-1 w-3/12 sm:w-1/2 bg-teal-600"></div>
        </div>
        <div class="container flex flex-col gap-3 px-3">
            <div class="flex flex-col gap-2">
                <div class="grid grid-cols-2 gap-2">
                    <div class="flex flex-col">
                        <label for="fname" class="dark:text-gray-400 text-bluegray-900 text-base">Firstname</label>
                        <input required value="<%- user.firstname %>" type="text" name="fname" class="dark_border w-full px-3 py-2 dark:bg-darkBlue-secondary rounded-lg dark:text-gray-300 text-bluegray-900 dark:focus:border-purple-500 outline-none">
                    </div>
                    <div class="flex flex-col">
                        <label for="mname" class="dark:text-gray-400 text-bluegray-900 text-base">Middlename</label>
                        <input required value="<%- user.middlename %>" type="text" name="mname" class="dark_border w-full px-3 py-2 dark:bg-darkBlue-secondary rounded-lg dark:text-gray-300 text-bluegray-900 dark:focus:border-purple-500 outline-none">
                    </div>
                </div>
                <div class="flex w-full">
                    <div class="flex flex-col w-full">
                        <label for="lname" class="dark:text-gray-400 text-bluegray-900 text-base">Lastname</label>
                        <input required value="<%- user.lastname %>" type="text" name="lname" class="dark_border w-full px-3 py-2 dark:bg-darkBlue-secondary rounded-lg dark:text-gray-300 text-bluegray-900 dark:focus:border-purple-500 outline-none">
                    </div>
                </div>
            </div>
            <div class="flex flex-col gap-2">
                <div class="grid grid-cols-2 gap-2">
                    <div class="flex flex-col">
                        <label for="course" class="dark:text-gray-400 text-bluegray-900 text-base">Course</label>
                        <select required name="course" class="dark_border appearance-none w-full px-3 py-2 dark:bg-darkBlue-secondary rounded-lg dark:text-gray-300 text-bluegray-900 dark:focus:border-purple-500 outline-none">
                            <option selected value="<%- user.course %>"><%- userData.course(user.course) %></option>
                        </select>
                    </div>
                    <div class="flex flex-col">
                        <label for="year" class="dark:text-gray-400 text-bluegray-900 text-base">Year</label>
                        <select required name="year" class="dark_border appearance-none w-full px-3 py-2 dark:bg-darkBlue-secondary rounded-lg dark:text-gray-300 text-bluegray-900 dark:focus:border-purple-500 outline-none">
                            <option selected value="<%- user.year %>"><%- userData.year(user.year) %></option>
                        </select>
                    </div>
                </div>
                <div class="flex w-full">
                    <div class="flex flex-col w-full">
                        <label for="sid" class="dark:text-gray-400 text-bluegray-900 text-base">Student ID</label>
                        <input required value="<%- user.student_id %>" type="text" name="sid" class="dark_border w-full px-3 py-2 dark:bg-darkBlue-secondary rounded-lg dark:text-gray-300 text-bluegray-900 dark:focus:border-purple-500 outline-none">
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="container animate__animated animate__fadeInUp ms-300" style="animation-delay: .350s;">
        <div class="py-1 px-3 flex flex-col mb-2">
            <span class="dark:text-gray-300 text-base">Candidacy Details</span>
            <div class="h-1 w-1/3 sm:w-3/4 bg-teal-600"></div>
        </div>
        <div class="grid grid-cols-2 sm:grid-cols-none gap-3 px-3">
            <div class="flex flex-col">
                <label for="pty" class="dark:text-gray-400 text-bluegray-900 text-base">Partylist</label>
                <select required name="pty" class="dark_border appearance-none w-full px-3 py-2 dark:bg-darkBlue-secondary rounded-lg dark:text-gray-300 text-bluegray-900 dark:focus:border-purple-500 outline-none">
                    <option value="">Select Partylist</option>
                    <% for (let i = 0; i < election.partylists.length; i++){ %>
                        <option value="<%- election.partylists[i] %>"><%- userElection.partylists(election.partylists[i]) %></option>
                    <% } %>
                </select>
            </div>
            <div class="flex flex-col">
                <label for="pos" class="dark:text-gray-400 text-bluegray-900 text-base">Position</label>
                <select required name="pos" class="dark_border appearance-none w-full px-3 py-2 dark:bg-darkBlue-secondary rounded-lg dark:text-gray-300 text-bluegray-900 dark:focus:border-purple-500 outline-none">
                    <option value="">Select Position</option>
                    <% for (let i = 0; i < election.positions.length; i++){ %>
                        <option value="<%- election.positions[i].id %>"><%- userElection.positions(election.positions[i].id) %></option>
                    <% } %>
                </select>
            </div>
        </div>
    </div>
    <div class="container animate__animated animate__fadeInUp ms-300" style="animation-delay: .450s;">
        <div class="flex flex-col px-3">
            <label for="platform" class="dark:text-gray-400 text-bluegray-900 text-base">Platform</label> 
            <textarea required name="platform" class="dark_border min-h-[200px] max-h-96 resize-none appearance-none w-full px-3 py-2 dark:bg-darkBlue-secondary rounded-lg dark:text-gray-300 text-bluegray-900 dark:focus:border-purple-500 outline-none"></textarea>
        </div>
    </div>
    <div class="container py-2 animate__animated animate__fadeInUp ms-300" style="animation-delay: .550s;">
        <div class="flex items-center justify-end px-3">
            <button type="submit" class="transition-all w-full rpl text-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white dark:text-gray-200 bg-purple-800 hover:bg-purple-700 focus:outline-none dark:ring-offset-darkBlue-secondary ring-offset-gray-50 focus:ring-2 focus:ring-offset-2 focus:ring-purple-500">Submit form</button>
        </div>
    </div>
</form>